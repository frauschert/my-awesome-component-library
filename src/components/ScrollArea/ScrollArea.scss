@import '../../styles/theme-vars';

.scroll-area {
    position: relative;
    overflow: hidden;

    // Viewport (scrollable area)
    &__viewport {
        width: 100%;
        height: 100%;
        overflow: hidden;

        // Scrollbar styling
        scrollbar-color: var(--theme-scrollbar-thumb)
            var(--theme-scrollbar-track);

        &::-webkit-scrollbar {
            width: var(--scrollbar-size, 8px);
            height: var(--scrollbar-size, 8px);
        }

        &::-webkit-scrollbar-track {
            background: var(--theme-scrollbar-track);
            border-radius: var(--scrollbar-radius, 4px);
        }

        &::-webkit-scrollbar-thumb {
            background: var(--theme-scrollbar-thumb);
            border-radius: var(--scrollbar-radius, 4px);
            border: 2px solid transparent;
            background-clip: padding-box;
            transition: background-color var(--theme-transition-fast);

            &:hover {
                background: var(--theme-scrollbar-thumb-hover);
            }
        }

        &::-webkit-scrollbar-corner {
            background: var(--theme-scrollbar-track);
        }
    }

    // Scrollbar sizes
    &--size-sm {
        --scrollbar-size: 6px;
        --scrollbar-radius: 3px;
    }

    &--size-md {
        --scrollbar-size: 8px;
        --scrollbar-radius: 4px;
    }

    &--size-lg {
        --scrollbar-size: 12px;
        --scrollbar-radius: 6px;
    }

    // Scroll directions
    &--vertical .scroll-area__viewport {
        overflow-y: auto;
    }

    &--horizontal .scroll-area__viewport {
        overflow-x: auto;
    }

    &--vertical.scroll-area--horizontal .scroll-area__viewport {
        overflow: auto;
    }

    // Scrollbar visibility types
    &--type-auto .scroll-area__viewport {
        // Default browser behavior
    }

    &--type-always .scroll-area__viewport {
        overflow-y: scroll;
        overflow-x: scroll;

        &::-webkit-scrollbar-thumb {
            background: var(--theme-scrollbar-thumb);
        }
    }

    &--type-hover {
        .scroll-area__viewport {
            &::-webkit-scrollbar-thumb {
                background: transparent;
            }
        }

        &:hover,
        &.scroll-area--scrolling {
            .scroll-area__viewport::-webkit-scrollbar-thumb {
                background: var(--theme-scrollbar-thumb);

                &:hover {
                    background: var(--theme-scrollbar-thumb-hover);
                }
            }
        }
    }

    &--type-scroll .scroll-area__viewport {
        &::-webkit-scrollbar {
            width: 0;
            height: 0;
        }

        &::-webkit-scrollbar-thumb {
            background: transparent;
        }

        // Show only while scrolling
        &:active::-webkit-scrollbar,
        &:focus::-webkit-scrollbar {
            width: var(--scrollbar-size, 8px);
            height: var(--scrollbar-size, 8px);
        }
    }

    // Hide scrollbar completely
    &--hide-scrollbar .scroll-area__viewport {
        scrollbar-width: none;
        -ms-overflow-style: none;

        &::-webkit-scrollbar {
            display: none;
        }
    }

    // Shadow indicators
    &__shadow {
        position: absolute;
        pointer-events: none;
        opacity: 0;
        transition: opacity var(--theme-transition-fast);
        z-index: 1;

        &--top {
            top: 0;
            left: 0;
            right: 0;
            height: 24px;
            background: linear-gradient(
                to bottom,
                rgba(0, 0, 0, 0.08) 0%,
                transparent 100%
            );
        }

        &--bottom {
            bottom: 0;
            left: 0;
            right: 0;
            height: 24px;
            background: linear-gradient(
                to top,
                rgba(0, 0, 0, 0.08) 0%,
                transparent 100%
            );
        }

        &--left {
            top: 0;
            bottom: 0;
            left: 0;
            width: 24px;
            background: linear-gradient(
                to right,
                rgba(0, 0, 0, 0.08) 0%,
                transparent 100%
            );
        }

        &--right {
            top: 0;
            bottom: 0;
            right: 0;
            width: 24px;
            background: linear-gradient(
                to left,
                rgba(0, 0, 0, 0.08) 0%,
                transparent 100%
            );
        }
    }

    &--shadow-top .scroll-area__shadow--top {
        opacity: 1;
    }

    &--shadow-bottom .scroll-area__shadow--bottom {
        opacity: 1;
    }

    &--shadow-left .scroll-area__shadow--left {
        opacity: 1;
    }

    &--shadow-right .scroll-area__shadow--right {
        opacity: 1;
    }
}

// Dark theme shadow adjustments
.theme--dark .scroll-area__shadow {
    &--top {
        background: linear-gradient(
            to bottom,
            rgba(0, 0, 0, 0.3) 0%,
            transparent 100%
        );
    }

    &--bottom {
        background: linear-gradient(
            to top,
            rgba(0, 0, 0, 0.3) 0%,
            transparent 100%
        );
    }

    &--left {
        background: linear-gradient(
            to right,
            rgba(0, 0, 0, 0.3) 0%,
            transparent 100%
        );
    }

    &--right {
        background: linear-gradient(
            to left,
            rgba(0, 0, 0, 0.3) 0%,
            transparent 100%
        );
    }
}
